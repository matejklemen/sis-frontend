<div class="container">
  <div class="panel panel-default">
      <div class="panel-heading clearfix">
          <div>
            <h4 class="panel-title pull-left" style="padding-top: 7.5px;">Uvozi podatke o sprejetih kandidatih</h4>
            <div class="btn-group pull-right">
                <label for="file-input" class="btn btn-default btn-sm" flow-btn>
                    Išči
                    <input id="file-input" type="file" on-read-file="vm.processData($fileContent)" style="visibility: hidden; position: absolute;">
                </label>
            </div>
            <div ng-if="vm.status=='error'" class="pull-right status-message status-error">
                <span class="glyphicon glyphicon-exclamation-sign" style="margin-right:5px"></span>
                Error while importing data. <u><a style="cursor:pointer" ng-click="vm.reimport()">Try again</a></u> or import different file!
            </div>
            <div ng-if="vm.status=='success'" class="pull-right status-message status-success">
                <span class="glyphicon glyphicon-ok" style="margin-right:5px"></span>
                Success!
            </div>
            <div ng-if="vm.status=='progress'" class="pull-right status-message">
                <span class="glyphicon glyphicon-refresh" style="margin-right:5px"></span>
                In progress!
            </div>
          </div>
      </div>
      <div class="panel-body" ng-if="vm.candidates" ng-hide="vm.hide">
          <div >
              <h4>Uvoženi zapisi:</h4>
      
              <table class="table table-striped">
                <thead>
                  <tr class="success">
                    <th scope="col">#</th>
                    <th scope="col">Ime</th>
                    <th scope="col">Priimek</th>
                    <th scope="col">Email</th>
                    <th scope="col">Študijski program</th>
                    <th scope="col">Vpisna številka</th>
                    <th scope="col">Uporabniško ime</th>
                    <th scope="col">Geslo</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="candidate in vm.candidates">
                    <th scope="row">{{ $index }}</th>
                    <td>{{ candidate.name }}</td>
                    <td>{{ candidate.surname }}</td>
                    <td>{{ candidate.email }}</td>
                    <td>{{ candidate.studyProgram.id }}</td>
                    <td>{{ candidate.registerNumber }}</td>
                    <td>{{ candidate.loginData.username }}</td>
                    <td>{{ candidate.loginData.username.substring(0,2) + '_' + candidate.registerNumber }}</td>
                  </tr>
                </tbody>
              </table>

              <h4 style="margin-top:50px">Vnosi, ki so bili zaradi podvojitve zavrnjeni:</h4>
      
              <table class="table table-striped">
                <thead>
                  <tr class="danger">
                    <th scope="col">#</th>
                    <th scope="col">Ime</th>
                    <th scope="col">Priimek</th>
                    <th scope="col">Email</th>
                    <th scope="col">Študijski program</th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="rej in vm.rejects">
                    <th scope="row">{{ $index }}</th>
                    <td>{{ rej.name }}</td>
                    <td>{{ rej.surname }}</td>
                    <td>{{ rej.email }}</td>
                    <td>{{ rej.studyProgram.id }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="pull-right"><a ng-click="vm.hideTable()" class="btn btn-primary btn-xs">Hide</a></div>
        </div>
    </div>
</div>