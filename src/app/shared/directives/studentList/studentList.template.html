<div class="container">
  <div class="row">
    <div class="col-md-3">

      <form class="form" ng-submit="vm.performSearch()">
        <div class="form-group" ng-class="vm.searchIsEmpty ? 'has-error' : ''">
          <label for="searchStudent" class="control-label">Iskanje študentov</label>
          <input type="text" class="form-control" id="searchStudent" placeholder="Iskanje..." ng-model="vm.searchValue" autocomplete="off" />
        </div>
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block"><span class="glyphicon" ng-class="vm.searchInProgress ? 'glyphicon-refresh' : 'glyphicon-search'"></span> Iskanje</button>
          <p class="help-block">Iščete lahko po imenu in priimku ali po vpisni številki.<br />Za iskanje pritisnite na gumb ali tipko Enter.</p>
        </div>
      </form>

    </div>
    <div class="col-md-9">
      <button class="btn btn-primary btn-xs" ng-click="vm.exportAction('pdf')">PDF</button>
      <button class="btn btn-primary btn-xs" ng-click="vm.exportAction('csv')">CSV</button>
      <h3>Rezultati iskanja</h3>
      <div class="export-table">
        <table ng-show="vm.searchResult" class="table table-striped">
          <thead>
            <tr class="success">
              <th>#</th>
              <th>Vpisna številka</th>
              <th>Ime</th>
              <th>Priimek</th>
              <th>Žeton za vpis</th>
              <th>Vpis</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="result in vm.searchResult">
              <td>{{ $index+1 }}</td>
              <td>{{ result.registerNumber }}</td>
              <td>{{ result.name }}</td>
              <td>{{ result.surname }}</td>
              <td><enrolment-token-button id="result.id"></enrolment-token-button></td>
              <td><enrolment-confirmation-button id="result.id"></enrolment-confirmation-button></td>
              <td><a class="btn btn-primary btn-xs" href="/student/{{ result.registerNumber }}">Več...</a></td>
            </tr>
          </tbody>
        </table>
      </div>
      <div ng-hide="vm.searchResult">Začnite iskanje z obrazcem na levi.</div>
    </div>
    
  </div>
</div>
