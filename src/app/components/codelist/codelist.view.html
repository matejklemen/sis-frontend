<sis-navbar></sis-navbar>

<div class="container code-list">
    <div class="row">
      <div class="col-md-12">
          <h3>Seznam šifrantov</h3>
          <a href="/codelist/{{ clist.name }}" class="btn {{ vm.currentCodelist.displayName == clist.displayName ? 'btn-primary' : 'btn-default' }} margin-4px" ng-repeat="clist in vm.codelists"> {{ clist.displayName }} <span class="badge"> {{ clist.entriesCount }} </span></a>
      </div>
      <div class="col-md-12" ng-show="vm.codelistData">
        <h3>Urejanje šifranta: {{ vm.currentCodelist.displayName }}</h3>

        <form class="form-inline margin-4px">
          <div class="form-group">
            <label for="filterList" class="control-label">Filter vnosov:</label>
            <input type="text" class="form-control" id="filterList" placeholder="Filtrirni niz..." ng-model="vm.searchValue" autocomplete="off" ng-change="" />
          </div>
          <div class="form-group" style="float:right;">
            <button class="btn btn-success btn-sm" ng-click="vm.openAddEntryModal()">Dodaj vnos v: {{ vm.currentCodelist.displayName }}</button>
          </div>
        </form> 
        
        <table ng-show="vm.codelists" class="table table-striped">
          <thead>
            <tr class="success">
              <th ng-repeat="key in vm.codelistCols">{{ key }}</th>
              <th></th>
            </tr>
          </thead>
          <tbody>
            <tr ng-repeat="entry in vm.codelistData | filter:vm.searchValue">
              <td ng-repeat="val in entry">{{ val | formatDisplayName }}</td>
              <td><a href="" class="btn btn-primary btn-xs" ng-click="vm.openEditEntryModal(entry, $index)">Uredi ...</a></td>
            </tr>
          </tbody>
        </table>

      </div>
    </div>
  </div>